[server]
url = <%= @rest_url %>
path-login = <%= node["kagent"]["dashboard_app"] %>/<%= node["kagent"]["dashboard"]["api"]["login"] %>
path-register = <%= node["kagent"]["dashboard_app"] %>/<%= node["kagent"]["dashboard"]["api"]["register"] %>
path-heartbeat = <%= node["kagent"]["dashboard_app"] %>/<%= node["kagent"]["dashboard"]["api"]["heartbeat"] %>
path-ca-host = <%= node["kagent"]["ca_app"] %>/<%= node["kagent"]["dashboard"]["api"]["ca_host"] %>
username = <%= node["kagent"]["dashboard"]["user"] %>
password = <%= node["kagent"]["dashboard"]["password"] %>

[agent]
host-id = <%= @hostname %>
restport = <%= node["kagent"]["port"] %>
heartbeat-interval = <%= node["kagent"]["heartbeat_interval"] %>
services-file = <%= node["kagent"]["services"] %>
watch-interval = <%= node["kagent"]["watch_interval"] %>
bin-dir = <%= node["kagent"]["base_dir"] %>/bin
sbin-dir = <%= node["install"]["sudoers"]["scripts_dir"] %>
pid-file = <%= node["kagent"]["pid_file"] %>
agent-log-dir = <%= node["kagent"]["dir"] %>/logs
csr-log-file = <%= node["kagent"]["certs_dir"] %>/csr.log
logging-level = <%= node["kagent"]["logging_level"] %>
max-log-size = <%= node["kagent"]["max_log_size"] %>
public-ip = <%= @public_ip %>
private-ip = <%= @private_ip %>
hostname = <%= @hostname %>
hadoop-home = <%= @hops_dir %>/hadoop
certs-user = <%= node['kagent']['certs_user'] %>
keystore-script = <%= node["kagent"]["certs_dir"] %>/keystore.sh
state-store = <%= node["kagent"]["etc"]%>/state_store
password = <%= @agent_password %>
crypto-dir = <%= node['x509']['super-crypto']['dir'] %>

<% if not node['kagent']['cloud']['monitor_url'].casecmp? "" -%>
[cloud]
monitor-cloud = false
provider = <%= node['install']['cloud'] %>
monitor-interval = <%= node['kagent']['cloud']['monitor_interval'] %>
monitor_url = <%= node['kagent']['cloud']['monitor_url'] %>
<% end -%>